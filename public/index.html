<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			Clients
		</title>
		<link rel="stylesheet" href="./styles.css">
	</head>
	<body>
		<div id="app" v-cloak>
			<div v-if="addUser || editUser" class="shadding"></div>
			<div v-if="addUser" class="top-modal-window">
				<div class="header white-back">
					<p class="flex-item">New Client</p>
				</div>
				<client></client>
				<div class="footer white-back">
					<button v-on:click="closeModal">Cancel</button>
					<button>Add Client</button>
				</div>
			</div>
			<div v-if="editUser" class="top-modal-window">
				<div class="header white-back">
					<p class="flex-item">Edit Client</p>
				</div>
				<client></client>
				<div class="footer white-back">
					<button id="del">Delete Client</button>
					<span class="spacer"></span>
					<button v-on:click="closeModal">Cancel</button>
					<button>Save Client</button>
				</div>
			</div>
			<div class="header">
				<div class="flex-item">
					<p>Clients</p>
				</div>
				<div class="flex-item">
					<button v-on:click="openAddUser" v-bind:diable="addUser" v-bind:class="{ 'button-active': addUser }">New Client</button>
				</div>
			</div>
			<table>
				<thead>
					<th class="tableName">
						Name
					</th>
					<th class="tableEmail">
						Email
					</th>
					<th class="tablePhone">
						Phone
					</th>
					<th class="tableProviders">
						Providers
					</th>
					<th class="tableEdit" >
					</th>
					<th class="tableEdit">
					</th>
				</thead>
				<tr v-for="entry in table">
					<td>
						{{ entry.name }}
					</td>
					<td>
						{{ entry.email }}
					</td>
					<td>
						{{ entry.phone }}
					</td>
					<td>
						<span v-for="(provider, index) in getProviders(entry.providers)">{{ providers[index].name }}<span v-if="index < entry.providers.length - 1">, </span></span>
					</td>
					<td style="text-align: center">
						<a href="" v-on:click.prevent="openEditUser">Edit</a>
					</td>
					<td style="text-align: center">
						<a href="" v-on:click.prevent="openEditUser">Delete</a>
					</td>
				</tr>
			</table>
		</div>
		<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
		<script src="./main.js"></script>
	</body>
</html>
